# üóìÔ∏è –í–µ–±-—Å–µ—Ä–≤–µ—Ä "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á"
## –í—ã–ø—É—Å–∫–Ω–æ–π –ø—Ä–æ–µ–∫—Ç –Ø.–ü—Ä–∞–∫—Ç–∏–∫—É–º
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ö—Ä–∞–Ω–∏—Ç –∑–∞–¥–∞—á–∏, –∫–∞–∂–¥–∞—è –∏–∑ –Ω–∏—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç—É –¥–µ–¥–ª–∞–π–Ω–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º. 
–ó–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø—Ä–∞–≤–∏–ª—É: –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–∂–µ–≥–æ–¥–Ω–æ, —á–µ—Ä–µ–∑ –∫–∞–∫–æ–µ-—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π, –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–Ω–∏ –º–µ—Å—è—Ü–∞ –∏–ª–∏ –Ω–µ–¥–µ–ª–∏. 
–ï—Å–ª–∏ –æ—Ç–º–µ—Ç–∏—Ç—å —Ç–∞–∫—É—é –∑–∞–¥–∞—á—É –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é, –æ–Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –¥–∞—Ç—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∞–≤–∏–ª–æ–º. 
–û–±—ã—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –±—É–¥—É—Ç –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è—Ç—å—Å—è. 
–°–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç RESTful API.


## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–Ω–æ—Å –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á.
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å JWT.
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite.
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Go-–ø–∞–∫–µ—Ç–æ–≤.
---

## üåü –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–∑–≤–Ω–µ –ø–æ—Ä—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TODO_PORT`.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TODO_DBFILE`.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∑–∞–¥–∞—á (–¥–ª—è –Ω–µ–¥–µ–ª—å –∏ –º–µ—Å—è—Ü–µ–≤).
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞ (–ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ, –¥–∞—Ç–µ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–¥–∞—á–∏).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT.
- [x] –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ Docker.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
üì¶ go_final_project
‚îú‚îÄ‚îÄ üìÇ cmd          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (main.go)
‚îú‚îÄ‚îÄ üìÇ internal
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ server   # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ db       # –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ repeat   # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ üìÇ tests        # –¢–µ—Å—Ç—ã –¥–ª—è API –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÇ web          # –§—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ Dockerfile      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ go.mod/go.sum   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îú‚îÄ‚îÄ README.md       # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üõ† –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ª–æ–∫–∞–ª—å–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `Go` –∏ `SQLite`.

```sh
go mod tidy
```
### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ –∂–µ–ª–∞–Ω–∏—é). 

üìå –ù–∞–ø—Ä–∏–º–µ—Ä:
```sh
export TODO_PORT=:8080
export TODO_DBFILE=../scheduler.db
export TODO_PASSWORD=qwerty69
```
>–í–µ–±-—Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ (–¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è).
–ù–æ –ø–∞—Ä–æ–ª—å —É–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

>>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ä—Ç - `:7540`, –ø—É—Ç—å –∫ .db —Ñ–∞–π–ª—É - `../internal/db/scheduler.db`.

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
–°–±–æ—Ä–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ `/cmd/`:
```sh
cd cmd
go build -o myapp main.go
./myapp
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ë–î –ø–æ –ø—É—Ç–∏ `../internal/db/scheduler.db` (–∏–ª–∏ –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è) –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É `:7450` (–∏–ª–∏ –Ω–∞ –ø–æ—Ä—Ç—É –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è).

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:7540 (–≤ —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `TODO_PORT`).

>–î–ª—è –≤—Ö–æ–¥–∞ –ø–æ –ø–∞—Ä–æ–ª—é —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:7540/login.html

---

## ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `tests/settings.go`:
```go
var Port = 7540
var DBFile = "../internal/db/scheduler.db"
var FullNextDate = true
var Search = true
var Token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXNzd29yZF9oYXNoIjoicXdlcnR5NjkifQ.gfJa9Y_KEqZIINsB3qAn4QhfV-eadLrCPUnuGMCGpP4`
```
- –ü—Ä–∏—Å–≤–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `Token` –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞, –∫–æ—Ç–æ—Ä–æ–µ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—Ç–∏–ª –∏–∑ `/api/signin` –∏ –∫–æ—Ç–æ—Ä–æ–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫—É–∫–µ token. 

üìå –£–∑–Ω–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –º–æ–∂–Ω–æ —Ç–∞–∫:
```sh
curl -X POST http://localhost:7540/api/signin \
     -H "Content-Type: application/json" \
     -d "{\"password\": \"$(echo $TODO_PASSWORD)\"}"
```
- –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, —É–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `Port`.
- –í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –¥—Ä—É–≥–æ–π –ø—É—Ç—å –≤ –∑–Ω–∞—á–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `DBFile`.
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `FullNextDate` –∏ `Search` –¥–∞—é—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**

*–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ—Å—Ç–µ–π—à–µ–≥–æ —Ñ–∞–π–ª-—Å–µ—Ä–≤–µ—Ä–∞:*
```sh
go test -run ^TestApp$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ë–î:*
```sh
go test -run ^TestDB$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∑–∞–¥–∞—á:*
```sh
go test -run ^TestNextDate$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ –ë–î:*
```sh
go test -run ^TestAddTask$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–≤–æ–¥–∞ —Å–ø–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö –∑–∞–¥–∞—á –∏ –≤—ã–±–æ—Ä–∫–∏ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞:*
```sh
go test -run ^TestTasks$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–¥ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:*
```sh
go test -run ^TestTask$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏:*
```sh
go test -run ^TestEditTask$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–º–µ—Ç–∫–∏ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∏ —É–¥–∞–ª–µ–Ω–∏–∏(–ª–∏–±–æ –ø–µ—Ä–µ–Ω–æ—Å–µ) –∑–∞–¥–∞—á–∏:*
```sh
go test -run ^TestDone$ ./tests
```
*–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–º–µ—Ç–∫–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏:*
```sh
go test -run ^TestDelTask$ ./tests
```
**–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:**
```sh
go test ./tests
```

---

## üê≥ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –≤ Docker

1. –°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑:
```sh
sudo docker build -t scheduler:latest .
```
2. –ó–∞–ø—É—Å—Ç–∏—Ç—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```sh
sudo docker run -d -p 7540:8080 --name scheduler scheduler:latest
```
3. –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:7540 –∏–ª–∏ http://localhost:7540/login.html.

---

## üìÑ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

`POST /api/signin` ‚Äì –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT.

- –ó–∞–¥–∞—á–∏

`GET /api/tasks` –∏–ª–∏ `/api/tasks{search}` ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á (—Ñ–∏–ª—å—Ç—Ä –∑–∞–¥–∞—á)

`GET /api/task{id}` ‚Äì –í—ã–≤–æ–¥ –∑–∞–¥–∞—á–∏ –ø–æ id.

`POST /api/task` ‚Äì –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É.

`PUT /api/task` ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É.

`DELETE /api/task{id}` ‚Äì –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ id.

---

